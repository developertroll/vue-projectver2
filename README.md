# vue-projectver2

## 계획안

```
1. 기존 프로젝트를 기반으로 좀 더 최적화된 프로젝트를 만들어보기
2. 목표가 존재하는 상황에서 3달 걸렸던 기존 프로젝트에서 얼마나 더 빠르게 완성될수 있는가 보기
3. 기존 프로젝트에서 미흡했던 부분들을 보완하기
```

### 20231205 일지

```
1. composables을 만들때 처음부터 index를 부여하고 상태를 통해서 관리하게 해서 데이터 관리를 편하게 하기
2. 기존 프로젝트에서 컴포넌트에서 처리하던 함수들 중에서 반복되는 함수가 많았는데, 이걸 composable에 포함시키게 해서 코드를 간결하게 하기
3. 기존 프로젝트에서 결재 라인이 따로 존재했고, 이 결재라인이 가지는 형태가 달라서 관리가 힘들었는데, 형태를 통일화하고 타입과 인덱스를 참조하게 하여 간결화하기
4. 기존 결재는 결재라인이 가장 높은 계급을 가진 사람에게 가게 하는 1개만 존재했는데, 다르게 만들 방법 찾기.

작업중 생각난 방안으로 <slot></slot> 시스템을 이용하면 비슷한 컴포넌트를 일일이 제작하는 대신 하나의 컴포넌트로 여러개를 만들 수 있을 것 같음.
현재 기본 layout 및 기본적으로 사용할 컴포저블들을 제작하였고, 연쇄결재라인 틀은 완서되어 있지만 이걸 만드는 방법에 대해 고민해봐야함.
이거 완성하고 CreatePlan을 쪼개서 각각의 step들을 각각의 컴포넌트로 만들고, CreatePlan이 해당 데이터를 받아가며 모든 단계가 끝나면 적절한 완료 창과 함께 다시 mainPage로 돌아가게 하면 됨. 현재로써는 결재라인에 들어가지 못한 프로젝트도 결재대기중 status를 가진채 존재하게 만드려고 함. 그렇게 할 경우 지난번 프로젝트 때 처럼 ApprovalList에서 일일이 다시 불러와서 재처리 해줄 필요가 없어짐.
```

### 개선사항

```
1. (20231205) App.vue에서 메뉴를 선택할때 처리하는 방식을 개선하여 mainPage로 가는 클릭을 1개의 경로로 통일, emit 문제가 발생하지 않도록 하기 위함.
2. (20231205) 결재 라인 생성을 위한 연쇄결재라인이 가능하도록 composable에 chained 체크 기능을 넣고, 결재 승인이 될때 chained가 true인 경우 후속 결재라인을 자동으로 바꿈.
2-1.(20231208) 해당 개선사항은 취소됨. 더 나은 방법으로 처리하도록 결정.
3. (20231205) 자주 쓰는 css들을 class이름으로 처리해서 main.css에 들어가게 하여 class 이름을 사용함으로써 반복 css 적용시키는 것을 적용함.
4. (20231206) tree 관련해서 코드 최적화 진행, 이제 node를 관리하고 선택 체크하기 더 쉬워짐
5. (20231207) ApprovalLine에서 유사 transfer를 제작. table과 tree를 transfer할 수 있는 상태가 되었음.
6. (20231208) allocateWork가 고정값으로 변경되어 input을 덜 해도 되게 바뀜.
7. (20231208) generalForm을 통해서 prop으로 column만 넘기면 알아서 생성되는 컴포넌트 만듬.
```

### 20231206 일지

```
tree 작업 완료. ApprovalLine에서 중간 단계와 그 단계에서 순서를 결정하는 것을 만들어두었고, 현재로써는 마지막 단계에서 어떻게 처리할지 생각해볼 필요가 있음. 현재로써 생각은 Approval에 chain 처리가 있으니 ApprovalLine을 저장하는 곳을 따로 만들고 즉석에서 만들거나 기존 결재라인을 불러올지 선택할 수 있게 하면 될거같음. 3번쨰인 일 지정은 현재 생각에는 기존 코드에서는 일일이 지정해야 했지만 일의 특징을 해당 직원의 직책에 따라 자동으로 결정되게 할 예정.
```

### 20231207 일지

```
결재라인 layout 및 상호작용 완성. 자주쓰는 결재라인 생성을 다른 페이지로 따로 뺄지 고민중임(현재 레이아웃이 너무 못생김). border를 제공하는 방법을 찾던 해서 현재로써 생각은 큰 제목 아래에 border를 가지는 각각의 파트처럼 보이게 하거나 아니면 ver1에서 자주쓰던 popup 방식을 쓰는걸 고려해야 함. 결재라인을 제대로 불러와지는것도 확인했고 현재 chained로 처리되어있는 결재와 결재라인을 갈아엎어서 현재 생각으로 Approval은 결재의 형식과 처리되는 과정을 만들고 ApprovalLine은 이러한 과정과 완료 여부를 따지도록 만드는게 어떨까 싶음. 만약 ApprovalLine이 현재 결재가 어떻게 진행되는지의 여부도 따지게 된다면 전체 결재는 ApprovalLine을 통해서 보게 되고 두 composable은 서로를 호출하는 형식이 될것같은데 이걸 어떻게 처리할지 고민해봐야함.
```

### 20231208 일지

```
고민 끝에 ApprovalLine을 통해서 연쇄결재를 처리하는것보다 Approval을 여러개 만들고 일종의 비공개 상태를 유지시키는게 더 낫다는 결론을 내리고 관련 코드를 제거함. CreatePlan 부분 내부에 Step1도 generalForm이라는 컴포넌트로 분리해서 컬럼의 제목이 될 prop만 넘겨주면 알아서 생성하도록 만들었음. 차후 form을 사용할 때 이 코드를 재사용할 수 있게 되었음. 그리고 allocateWork에 input 부분들을 제거하고 생각해볼때 개발자에게 마케팅 일을 시키는 등 부서 바깥으로 벗어난 작업을 하지 않을 것이기 때문에 이렇게 해도 된다고 판단했음. CreatePlan이 저장될 때 이렇게 들어온 form1, form2, form3을 1개의 값으로 합쳐서 결재라인이 만들어지도록 하면 됨.
```

### Customize configuration

See [Configuration Reference](https://cli.vuejs.org/config/).

```

```
