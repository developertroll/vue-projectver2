{"version":3,"file":"js/697.16050972.js","mappings":"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","sources":["webpack://vue-projectver2/./src/components/approval/ApprovalTable.vue","webpack://vue-projectver2/./src/components/approval/ApprovalTable.vue?88a0","webpack://vue-projectver2/./src/components/common/dialogSlot.vue","webpack://vue-projectver2/./src/components/common/dialogSlot.vue?74b8","webpack://vue-projectver2/./src/components/common/generalDescription.vue","webpack://vue-projectver2/./src/components/common/generalDescription.vue?2b4a"],"sourcesContent":["<template lang=\"\">\r\n  <el-table :data=\"tableData\">\r\n    <el-table-column type=\"index\" />\r\n    <el-table-column prop=\"type\" label=\"종류\">\r\n      <template #default=\"scope\">\r\n        {{ translateType[scope.row.type] }}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"writer\" label=\"요청자\" />\r\n    <el-table-column prop=\"update\" label=\"요청일\" />\r\n    <el-table-column prop=\"status\" label=\"상태\" />\r\n    <el-table-column label=\"상세\">\r\n      <template #default=\"scope\">\r\n        <dialogSlot :title=\"dialogTitle\">\r\n          <template #default>\r\n            <showProject\r\n              :projectIndex=\"getParentProject(scope.row.referenceIndex)\"\r\n              :isSaved=\"true\"\r\n              v-if=\"scope.row.type === 'project'\"\r\n            />\r\n            <generalDescription\r\n              :parentLabel=\"translateWorkColumn\"\r\n              :parentData=\"getParentWork(scope.row.referenceIndex)\"\r\n              v-else-if=\"scope.row.type === 'work'\"\r\n            />\r\n          </template>\r\n        </dialogSlot>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"작업\" v-if=\"parentStatus === '결재요청'\">\r\n      <template #default=\"scope\">\r\n        <div>\r\n          <el-button type=\"success\" @click=\"approve(scope.row.referenceIndex)\"\r\n            >승인</el-button\r\n          >\r\n          <el-button type=\"danger\" @click=\"reject(scope.row.referenceIndex)\"\r\n            >반려</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n<script>\r\nimport dialogSlot from \"../common/dialogSlot.vue\";\r\nimport { Approval } from \"../composables/Approval\";\r\nimport showProject from \"../common/showProject.vue\";\r\nimport { Member } from \"../composables/Member\";\r\nimport { Work } from \"../composables/Work\";\r\nimport generalDescription from \"../common/generalDescription.vue\";\r\nexport default {\r\n  name: \"ApprovalTable\",\r\n  components: {\r\n    dialogSlot,\r\n    showProject,\r\n    generalDescription,\r\n  },\r\n  props: {\r\n    parentStatus: {\r\n      type: String,\r\n      default: \"결재요청\",\r\n    },\r\n  },\r\n  computed: {\r\n    approvalData() {\r\n      return Approval.callApprovalList(this.parentStatus);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      dialogTitle: \"상세\",\r\n      translateType: {\r\n        project: \"프로젝트\",\r\n        work: \"업무\",\r\n        member: \"멤버\",\r\n        plan: \"일정\",\r\n      },\r\n      translateWorkColumn: {\r\n        member: \"작성자\",\r\n        master: \"담당자\",\r\n        type: \"분야\",\r\n        deadline: \"마감일\",\r\n        update: \"갱신일\",\r\n        status: \"상태\",\r\n        detail: \"업무\",\r\n        desc: \"설명\",\r\n        etc: \"비고\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    tableInit() {\r\n      this.approvalData.forEach((item) => {\r\n        this.tableData.push({\r\n          type: item.parentType,\r\n          writer: !isNaN(item.writer)\r\n            ? Member.findMemberByIndex(item.writer).name\r\n            : item.writer,\r\n          update: item.update,\r\n          status: item.status,\r\n          referenceIndex: item.index,\r\n        });\r\n      });\r\n    },\r\n    getParentProject(index) {\r\n      return Approval.findparentProjectIndexByIndex(index);\r\n    },\r\n    approve(index) {\r\n      Approval.finishApproval(index);\r\n      this.$forceUpdate;\r\n    },\r\n    reject(index) {\r\n      Approval.rejectApproval(index);\r\n    },\r\n    getParentWork(index) {\r\n      try {\r\n        const targetIndex = this.getParentProject(index);\r\n        const target = Work.getWorkByIndex(targetIndex);\r\n        const targetApproval = Approval.findApprovalByIndex(index);\r\n        Reflect.deleteProperty(target, \"index\");\r\n        Reflect.deleteProperty(target, \"project\");\r\n        const result = {\r\n          ...target,\r\n          desc: targetApproval.desc,\r\n          etc: targetApproval.etc,\r\n        };\r\n        return result;\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.tableInit();\r\n  },\r\n  watch: {\r\n    approvalData: {\r\n      deep: true,\r\n      handler() {\r\n        this.tableData = [];\r\n        this.tableInit();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>\r\n","import { render } from \"./ApprovalTable.vue?vue&type=template&id=2ca77d08&lang=true\"\nimport script from \"./ApprovalTable.vue?vue&type=script&lang=js\"\nexport * from \"./ApprovalTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"openDialog\">{{ title }}</el-button>\r\n    </div>\r\n    <el-dialog v-model=\"dialogVisible\" append-to-body :show-close=\"false\">\r\n      <template #header>\r\n        <div class=\"el-header\">\r\n          <h2>{{ title }}</h2>\r\n          <el-button @click=\"closeDialog\">닫기</el-button>\r\n        </div>\r\n      </template>\r\n      <template #default>\r\n        <slot @saveForm=\"saveForm\"></slot>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"dialogSlot\",\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n    };\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  methods: {\r\n    openDialog() {\r\n      this.dialogVisible = true;\r\n    },\r\n    closeDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n    saveForm(item) {\r\n      this.$emit(\"saveForm\", item);\r\n      this.closeDialog();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"\"></style>\r\n","import { render } from \"./dialogSlot.vue?vue&type=template&id=5383be66\"\nimport script from \"./dialogSlot.vue?vue&type=script&lang=js\"\nexport * from \"./dialogSlot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <div>\r\n    <el-descriptions :column=\"1\" border>\r\n      <el-descriptions-item\r\n        v-for=\"item in description\"\r\n        :label=\"item.label\"\r\n        :key=\"item.key\"\r\n      >\r\n        {{ item.value }}\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"generalDescription\",\r\n  props: {\r\n    parentData: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    parentLabel: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      desc: [],\r\n    };\r\n  },\r\n  computed: {\r\n    description() {\r\n      const newDesc = [];\r\n      const newEntries = Object.entries(this.parentLabel);\r\n      newEntries.forEach((item) => {\r\n        newDesc.push({\r\n          label: item[1],\r\n          key: item,\r\n          value: this.parentData[item[0]],\r\n        });\r\n      });\r\n      return newDesc;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>\r\n","import { render } from \"./generalDescription.vue?vue&type=template&id=4396d504&lang=true\"\nimport script from \"./generalDescription.vue?vue&type=script&lang=js\"\nexport * from \"./generalDescription.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_el_table","data","$data","tableData","_createVNode","_component_el_table_column","type","prop","label","default","_withCtx","scope","translateType","row","_component_dialogSlot","title","dialogTitle","_component_showProject","projectIndex","$options","getParentProject","referenceIndex","isSaved","_component_generalDescription","parentLabel","translateWorkColumn","parentData","getParentWork","$props","parentStatus","_createElementVNode","_component_el_button","onClick","$event","approve","reject","name","components","dialogSlot","showProject","generalDescription","props","String","computed","approvalData","Approval","callApprovalList","this","project","work","member","plan","master","deadline","update","status","detail","desc","etc","methods","tableInit","forEach","item","push","parentType","writer","isNaN","Member","findMemberByIndex","index","findparentProjectIndexByIndex","finishApproval","$forceUpdate","rejectApproval","targetIndex","target","Work","getWorkByIndex","targetApproval","findApprovalByIndex","Reflect","deleteProperty","result","e","console","log","mounted","watch","deep","handler","__exports__","render","class","_createElementBlock","openDialog","_component_el_dialog","dialogVisible","header","_hoisted_1","_toDisplayString","closeDialog","_renderSlot","_ctx","$slots","onSaveForm","_cache","args","saveForm","$emit","_component_el_descriptions","column","border","_Fragment","_renderList","description","_component_el_descriptions_item","key","value","Object","required","newDesc","newEntries","entries"],"sourceRoot":""}