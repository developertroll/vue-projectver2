{"version":3,"file":"js/212.d0100f34.js","mappings":"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","sources":["webpack://vue-projectver2/./src/components/composables/TalkMessage.js","webpack://vue-projectver2/./src/components/Talk/TalkTemplate.vue","webpack://vue-projectver2/./src/components/Talk/TalkTemplate.vue?a4f4","webpack://vue-projectver2/./src/components/common/userAvatar.vue","webpack://vue-projectver2/./src/components/common/userAvatar.vue?b1a6"],"sourcesContent":["import { shallowReactive } from \"vue\";\r\nimport { Member } from \"./Member\";\r\nimport moment from \"moment\";\r\n\r\nexport const TalkMessage = shallowReactive({\r\n  GroupList: localStorage.getItem(\"talkGroupList\")\r\n    ? JSON.parse(localStorage.getItem(\"talkGroupList\"))\r\n    : [],\r\n  refreshGroupList() {\r\n    localStorage.setItem(\"talkGroupList\", JSON.stringify(this.GroupList));\r\n    this.GroupList = JSON.parse(localStorage.getItem(\"talkGroupList\"));\r\n  },\r\n  MessageList: localStorage.getItem(\"talkMessageList\")\r\n    ? JSON.parse(localStorage.getItem(\"talkMessageList\"))\r\n    : [],\r\n  refreshMessageList() {\r\n    localStorage.setItem(\"talkMessageList\", JSON.stringify(this.MessageList));\r\n    this.MessageList = JSON.parse(localStorage.getItem(\"talkMessageList\"));\r\n  },\r\n  refreshAll() {\r\n    this.refreshGroupList();\r\n    this.refreshMessageList();\r\n  },\r\n  MessageTemplate: {\r\n    index: \"\",\r\n    parentGroup: \"\",\r\n    owner: \"\",\r\n    content: \"\",\r\n    update: \"\", // 메세지가 생성된 시간\r\n    status: true, // true: 존재하는 메세지 false: 삭제된 메세지\r\n  },\r\n  GroupTemplate: {\r\n    index: \"\",\r\n    name: \"\",\r\n    member: [],\r\n    message: [],\r\n    update: \"\", // 마지막 메시지가 생성된 시간\r\n    status: true, // true: 존재하는 그룹방, false: 삭제된 그룹방\r\n  },\r\n  // 생성 함수\r\n  createGroup(name, member) {\r\n    const item = {\r\n      index: this.GroupList.length,\r\n      name: name,\r\n      member: member,\r\n      message: [],\r\n      update: moment().format(\"YYYY-MM-DD\"),\r\n      status: true,\r\n    };\r\n    this.GroupList.push(item);\r\n    // 에러를 방지하기 위해 메시지 1개를 임의로 넣어줌\r\n    this.createMessage(item.index, \"채팅방이 생성되었습니다\");\r\n    this.refreshGroupList();\r\n  },\r\n  createMessage(parentGroup, content) {\r\n    const item = {\r\n      index: this.MessageList.length,\r\n      parentGroup: parentGroup,\r\n      owner: Member.currentMember,\r\n      content: content,\r\n      update: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n      status: true,\r\n    };\r\n    const targetGroup = this.findGroupByIndex(parentGroup);\r\n    targetGroup.update = item.update;\r\n    targetGroup.message.push(item.index);\r\n    this.MessageList.push(item);\r\n    this.refreshAll();\r\n  },\r\n  // 조회 함수\r\n  findGroupByIndex(index) {\r\n    return this.GroupList.find((el) => el.index === index);\r\n  },\r\n  findMessageByIndex(index) {\r\n    return this.MessageList.find((el) => el.index === index);\r\n  },\r\n  findMessageGroupByIndex(index) {\r\n    return this.MessageList.filter((el) => el.parentGroup === index);\r\n  },\r\n  findLastMessageByGroupIndex(index) {\r\n    const target = this.findGroupByIndex(index);\r\n    const lastMessageIndex = target.message[target.message.length - 1];\r\n    return this.findMessageByIndex(lastMessageIndex);\r\n  },\r\n  findGroupByMember(member) {\r\n    return this.GroupList.filter((el) => el.member.includes(member));\r\n  },\r\n  // 번역된 조회 함수\r\n  getGroupByIndex(index) {\r\n    const target = this.findGroupByIndex(index);\r\n    const modifiedTarget = { ...target }; // Create a copy of the target object\r\n    const translatedMember = [];\r\n    modifiedTarget.member.forEach((el) => {\r\n      translatedMember.push(Member.findMemberByIndex(el));\r\n    });\r\n    modifiedTarget.member = translatedMember;\r\n    return modifiedTarget;\r\n  },\r\n});\r\n","<template lang=\"\">\r\n  <div>\r\n    <div v-if=\"isMine\">\r\n      <el-row v-if=\"!checkChain\">\r\n        <el-col :span=\"4\" :offset=\"20\">\r\n          <userAvatar :parentMember=\"MessageData.owner\" />\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\" :offset=\"20\">\r\n          {{ update }}\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\" :offset=\"16\">\r\n          <div class=\"message-Box\">\r\n            {{ MessageData.content }}\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <div v-else>\r\n      <el-row v-if=\"!checkChain\">\r\n        <el-col :span=\"4\">\r\n          <userAvatar :parentMember=\"MessageData.owner\" />\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"4\">\r\n          {{ update }}\r\n        </el-col>\r\n      </el-row>\r\n      <el-row>\r\n        <el-col :span=\"8\">\r\n          <div class=\"message-Box\">\r\n            {{ MessageData.content }}\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { TalkMessage } from \"@/components/composables/TalkMessage.js\";\r\nimport { Member } from \"@/components/composables/Member.js\";\r\nimport userAvatar from \"@/components/common/userAvatar.vue\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  name: \"TalkTemplate\",\r\n  components: {\r\n    userAvatar,\r\n  },\r\n  props: {\r\n    MessageIndex: {\r\n      type: Number,\r\n      // required: true,\r\n    },\r\n    checkChain: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  computed: {\r\n    MessageData() {\r\n      return TalkMessage.findMessageByIndex(this.MessageIndex);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      isMine: false,\r\n      update: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    pageInit() {\r\n      this.isMine = this.MessageData.owner === Member.currentMember;\r\n      const today = moment().format(\"YYYY-MM-DD HH:mm:ss\");\r\n      if (moment(this.MessageData.update).isSame(today, \"day\")) {\r\n        this.update = moment(this.MessageData.update).format(\"HH:mm:ss\");\r\n      } else {\r\n        this.update = moment(this.MessageData.update).format(\"YYYY-MM-DD\");\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.pageInit();\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.message-Box {\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n  margin: 10px;\r\n  padding: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./TalkTemplate.vue?vue&type=template&id=3cb4ad70&lang=true\"\nimport script from \"./TalkTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./TalkTemplate.vue?vue&type=script&lang=js\"\n\nimport \"./TalkTemplate.vue?vue&type=style&index=0&id=3cb4ad70&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <div>\r\n    <el-avatar :color=\"color\" :background-color=\"color\">\r\n      <el-icon :color=\"color\" :size=\"size\"><UserFilled /></el-icon>\r\n    </el-avatar>\r\n    <span class=\"nameTab\">{{ member.name }}({{ member.department }})</span>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { UserFilled } from \"@element-plus/icons-vue\";\r\nimport { Member } from \"@/components/composables/Member\";\r\nexport default {\r\n  name: \"userAvatar\",\r\n  components: {\r\n    UserFilled,\r\n  },\r\n  data() {\r\n    return {\r\n      size: \"large\",\r\n      member: {},\r\n      color: \"\",\r\n    };\r\n  },\r\n  props: {\r\n    parentMember: {\r\n      type: Number,\r\n      default: 2,\r\n    },\r\n  },\r\n  methods: {\r\n    colorCheck() {\r\n      switch (this.member.department) {\r\n        case \"기획\":\r\n          return \"#409EFF\";\r\n        case \"개발\":\r\n          return \"#67C23A\";\r\n        case \"디자인\":\r\n          return \"#E6A23C\";\r\n        case \"기타\":\r\n          return \"#F56C6C\";\r\n        default:\r\n          return \"#909399\";\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.member = Member.findMemberByIndex(this.parentMember);\r\n    this.color = this.colorCheck();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.el-avatar {\r\n  --el-avatar-bg-color: var(--el-color-primary-light-9);\r\n}\r\n.nameTab {\r\n  margin-left: 10px;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n","import { render } from \"./userAvatar.vue?vue&type=template&id=5cbeb6c0&scoped=true&lang=true\"\nimport script from \"./userAvatar.vue?vue&type=script&lang=js\"\nexport * from \"./userAvatar.vue?vue&type=script&lang=js\"\n\nimport \"./userAvatar.vue?vue&type=style&index=0&id=5cbeb6c0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5cbeb6c0\"]])\n\nexport default __exports__"],"names":["TalkMessage","shallowReactive","GroupList","localStorage","getItem","JSON","parse","refreshGroupList","setItem","stringify","this","MessageList","refreshMessageList","refreshAll","MessageTemplate","index","parentGroup","owner","content","update","status","GroupTemplate","name","member","message","createGroup","item","length","moment","format","push","createMessage","Member","currentMember","targetGroup","findGroupByIndex","find","el","findMessageByIndex","findMessageGroupByIndex","filter","findLastMessageByGroupIndex","target","lastMessageIndex","findGroupByMember","includes","getGroupByIndex","modifiedTarget","translatedMember","forEach","findMemberByIndex","class","_createElementBlock","$data","isMine","_hoisted_1","$props","checkChain","_createBlock","_component_el_row","key","_createVNode","_component_el_col","span","offset","_component_userAvatar","parentMember","$options","MessageData","_createElementVNode","_hoisted_2","_toDisplayString","_hoisted_3","_hoisted_4","components","userAvatar","props","MessageIndex","type","Number","Boolean","default","computed","data","methods","pageInit","today","isSame","mounted","__exports__","render","_component_el_avatar","color","_component_el_icon","size","_component_UserFilled","department","UserFilled","colorCheck"],"sourceRoot":""}