{"version":3,"file":"js/831.986d306a.js","mappings":"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","sources":["webpack://vue-projectver2/./src/components/approval/ApprovalMain.vue","webpack://vue-projectver2/./src/components/approval/ApprovalMain.vue?9fc0","webpack://vue-projectver2/./src/components/approval/ApprovalTable.vue","webpack://vue-projectver2/./src/components/approval/ApprovalTable.vue?88a0","webpack://vue-projectver2/./src/components/common/dialogSlot.vue","webpack://vue-projectver2/./src/components/common/dialogSlot.vue?74b8","webpack://vue-projectver2/./src/components/common/generalDescription.vue","webpack://vue-projectver2/./src/components/common/generalDescription.vue?2b4a"],"sourcesContent":["<template lang=\"\">\r\n  <el-tabs type=\"border-card\">\r\n    <el-tab-pane label=\"진행중인 결재\">\r\n      <ApprovalTable :parentStatus=\"'결재요청'\" />\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"대기중인 결재\">\r\n      <ApprovalTable :parentStatus=\"'대기'\" />\r\n    </el-tab-pane>\r\n    <el-tab-pane label=\"완료된 결재\">\r\n      <ApprovalTable :parentStatus=\"'결재완료'\" />\r\n    </el-tab-pane>\r\n  </el-tabs>\r\n  <!-- 이 페이지는 탭 기능을 통해 현재 진행중인 결재, 대기중인 결재, 완료된 결재를 따로 볼 수 있게 만들 예정 -->\r\n</template>\r\n<script>\r\nimport ApprovalTable from \"./ApprovalTable.vue\";\r\nexport default {\r\n  name: \"ApprovalMain\",\r\n  components: {\r\n    ApprovalTable,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>\r\n","import { render } from \"./ApprovalMain.vue?vue&type=template&id=31b6d8fc&lang=true\"\nimport script from \"./ApprovalMain.vue?vue&type=script&lang=js\"\nexport * from \"./ApprovalMain.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <el-table :data=\"tableData\">\r\n    <el-table-column type=\"index\" />\r\n    <el-table-column prop=\"type\" label=\"종류\">\r\n      <template #default=\"scope\">\r\n        {{ translateType[scope.row.type] }}\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column prop=\"writer\" label=\"요청자\" />\r\n    <el-table-column prop=\"update\" label=\"요청일\" />\r\n    <el-table-column prop=\"status\" label=\"상태\" />\r\n    <el-table-column label=\"상세\">\r\n      <template #default=\"scope\">\r\n        <dialogSlot :title=\"dialogTitle\">\r\n          <template #default>\r\n            <showProject\r\n              :projectIndex=\"getParentProject(scope.row.referenceIndex)\"\r\n              :isSaved=\"true\"\r\n              v-if=\"scope.row.type === 'project'\"\r\n            />\r\n            <generalDescription\r\n              :parentLabel=\"translateWorkColumn\"\r\n              :parentData=\"getParentWork(scope.row.referenceIndex)\"\r\n              v-else-if=\"scope.row.type === 'work'\"\r\n            />\r\n          </template>\r\n        </dialogSlot>\r\n      </template>\r\n    </el-table-column>\r\n    <el-table-column label=\"작업\" v-if=\"parentStatus === '결재요청'\">\r\n      <template #default=\"scope\">\r\n        <div>\r\n          <el-button type=\"success\" @click=\"approve(scope.row.referenceIndex)\"\r\n            >승인</el-button\r\n          >\r\n          <el-button type=\"danger\" @click=\"reject(scope.row.referenceIndex)\"\r\n            >반려</el-button\r\n          >\r\n        </div>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n</template>\r\n<script>\r\nimport dialogSlot from \"../common/dialogSlot.vue\";\r\nimport { Approval } from \"../composables/Approval\";\r\nimport showProject from \"../common/showProject.vue\";\r\nimport { Member } from \"../composables/Member\";\r\nimport { Work } from \"../composables/Work\";\r\nimport generalDescription from \"../common/generalDescription.vue\";\r\nexport default {\r\n  name: \"ApprovalTable\",\r\n  components: {\r\n    dialogSlot,\r\n    showProject,\r\n    generalDescription,\r\n  },\r\n  props: {\r\n    parentStatus: {\r\n      type: String,\r\n      default: \"결재요청\",\r\n    },\r\n  },\r\n  computed: {\r\n    approvalData() {\r\n      return Approval.callApprovalList(this.parentStatus);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      dialogTitle: \"상세\",\r\n      translateType: {\r\n        project: \"프로젝트\",\r\n        work: \"업무\",\r\n        member: \"멤버\",\r\n        plan: \"일정\",\r\n      },\r\n      translateWorkColumn: {\r\n        member: \"작성자\",\r\n        master: \"담당자\",\r\n        type: \"분야\",\r\n        deadline: \"마감일\",\r\n        update: \"갱신일\",\r\n        status: \"상태\",\r\n        detail: \"업무\",\r\n        desc: \"설명\",\r\n        etc: \"비고\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    tableInit() {\r\n      this.approvalData.forEach((item) => {\r\n        this.tableData.push({\r\n          type: item.parentType,\r\n          writer: !isNaN(item.writer)\r\n            ? Member.findMemberByIndex(item.writer).name\r\n            : item.writer,\r\n          update: item.update,\r\n          status: item.status,\r\n          referenceIndex: item.index,\r\n        });\r\n      });\r\n    },\r\n    getParentProject(index) {\r\n      return Approval.findparentProjectIndexByIndex(index);\r\n    },\r\n    approve(index) {\r\n      Approval.finishApproval(index);\r\n      this.$forceUpdate;\r\n    },\r\n    reject(index) {\r\n      Approval.rejectApproval(index);\r\n    },\r\n    getParentWork(index) {\r\n      try {\r\n        const targetIndex = this.getParentProject(index);\r\n        const target = Work.getWorkByIndex(targetIndex);\r\n        const targetApproval = Approval.findApprovalByIndex(index);\r\n        Reflect.deleteProperty(target, \"index\");\r\n        Reflect.deleteProperty(target, \"project\");\r\n        const result = {\r\n          ...target,\r\n          desc: targetApproval.desc,\r\n          etc: targetApproval.etc,\r\n        };\r\n        return result;\r\n      } catch (e) {\r\n        console.log(e);\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.tableInit();\r\n  },\r\n  watch: {\r\n    approvalData: {\r\n      deep: true,\r\n      handler() {\r\n        this.tableData = [];\r\n        this.tableInit();\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>\r\n","import { render } from \"./ApprovalTable.vue?vue&type=template&id=2ca77d08&lang=true\"\nimport script from \"./ApprovalTable.vue?vue&type=script&lang=js\"\nexport * from \"./ApprovalTable.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"openDialog\">{{ title }}</el-button>\r\n    </div>\r\n    <el-dialog v-model=\"dialogVisible\" append-to-body :show-close=\"false\">\r\n      <template #header>\r\n        <div class=\"el-header\">\r\n          <h2>{{ title }}</h2>\r\n          <el-button @click=\"closeDialog\">닫기</el-button>\r\n        </div>\r\n      </template>\r\n      <template #default>\r\n        <slot @saveForm=\"saveForm\"></slot>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"dialogSlot\",\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n    };\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  methods: {\r\n    openDialog() {\r\n      this.dialogVisible = true;\r\n    },\r\n    closeDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n    saveForm(item) {\r\n      this.$emit(\"saveForm\", item);\r\n      this.closeDialog();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"\"></style>\r\n","import { render } from \"./dialogSlot.vue?vue&type=template&id=5383be66\"\nimport script from \"./dialogSlot.vue?vue&type=script&lang=js\"\nexport * from \"./dialogSlot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <div>\r\n    <el-descriptions :column=\"1\" border>\r\n      <el-descriptions-item\r\n        v-for=\"item in description\"\r\n        :label=\"item.label\"\r\n        :key=\"item.key\"\r\n      >\r\n        {{ item.value }}\r\n      </el-descriptions-item>\r\n    </el-descriptions>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"generalDescription\",\r\n  props: {\r\n    parentData: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    parentLabel: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      desc: [],\r\n    };\r\n  },\r\n  computed: {\r\n    description() {\r\n      const newDesc = [];\r\n      const newEntries = Object.entries(this.parentLabel);\r\n      newEntries.forEach((item) => {\r\n        newDesc.push({\r\n          label: item[1],\r\n          key: item,\r\n          value: this.parentData[item[0]],\r\n        });\r\n      });\r\n      return newDesc;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\"></style>\r\n","import { render } from \"./generalDescription.vue?vue&type=template&id=4396d504&lang=true\"\nimport script from \"./generalDescription.vue?vue&type=script&lang=js\"\nexport * from \"./generalDescription.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_el_tabs","type","_createVNode","_component_el_tab_pane","label","_component_ApprovalTable","parentStatus","name","components","ApprovalTable","__exports__","render","_component_el_table","data","$data","tableData","_component_el_table_column","prop","default","_withCtx","scope","translateType","row","_component_dialogSlot","title","dialogTitle","_component_showProject","projectIndex","$options","getParentProject","referenceIndex","isSaved","_component_generalDescription","parentLabel","translateWorkColumn","parentData","getParentWork","$props","_createElementVNode","_component_el_button","onClick","$event","approve","reject","dialogSlot","showProject","generalDescription","props","String","computed","approvalData","Approval","callApprovalList","this","project","work","member","plan","master","deadline","update","status","detail","desc","etc","methods","tableInit","forEach","item","push","parentType","writer","isNaN","Member","findMemberByIndex","index","findparentProjectIndexByIndex","finishApproval","$forceUpdate","rejectApproval","targetIndex","target","Work","getWorkByIndex","targetApproval","findApprovalByIndex","Reflect","deleteProperty","result","e","console","log","mounted","watch","deep","handler","class","_createElementBlock","openDialog","_component_el_dialog","dialogVisible","header","_hoisted_1","_toDisplayString","closeDialog","_renderSlot","_ctx","$slots","onSaveForm","_cache","args","saveForm","$emit","_component_el_descriptions","column","border","_Fragment","_renderList","description","_component_el_descriptions_item","key","value","Object","required","newDesc","newEntries","entries"],"sourceRoot":""}