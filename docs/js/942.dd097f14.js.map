{"version":3,"file":"js/942.dd097f14.js","mappings":"+MAOaA,MAAM,a,gGANjBC,EAAAA,EAAAA,IAeM,aAdJC,EAAAA,EAAAA,GAEM,aADJC,EAAAA,EAAAA,IAAqEC,EAAA,CAA1DC,KAAK,UAAWC,QAAOC,EAAAC,Y,mBAAY,IAAW,mBAARC,EAAAC,OAAK,M,uBAExDP,EAAAA,EAAAA,IAUYQ,EAAA,C,WAVQC,EAAAC,c,qCAAAD,EAAAC,cAAaC,GAAE,oBAAgB,cAAY,G,CAClDC,QAAMC,EAAAA,EAAAA,KACf,IAGM,EAHNd,EAAAA,EAAAA,GAGM,MAHNe,EAGM,EAFJf,EAAAA,EAAAA,GAAoB,WAAAgB,EAAAA,EAAAA,IAAbT,EAAAC,OAAK,IACZP,EAAAA,EAAAA,IAA8CC,EAAA,CAAlCE,QAAOC,EAAAY,aAAW,C,kBAAE,IAAE,UAAF,S,yBAGzBC,SAAOJ,EAAAA,EAAAA,KAChB,IAAkC,EAAlCK,EAAAA,EAAAA,IAAkCC,EAAAC,OAAA,WAA3BC,WAAQC,EAAA,KAAAA,EAAA,OAAAC,IAAEnB,EAAAoB,UAAApB,EAAAoB,YAAAD,S,yBAOzB,OACEE,KAAM,aACNC,IAAAA,GACE,MAAO,CACLhB,eAAe,EAEnB,EACAiB,MAAO,CACLpB,MAAO,CACLL,KAAM0B,OACNX,QAAS,KAGbY,QAAS,CACPxB,UAAAA,GACEyB,KAAKpB,eAAgB,CACvB,EACAM,WAAAA,GACEc,KAAKpB,eAAgB,CACvB,EACAc,QAAAA,CAASO,GACPD,KAAKE,MAAM,WAAYD,GACvBD,KAAKd,aACP,I,QCtCJ,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,2FCNOrC,MAAM,iB,GAoCAA,MAAM,U,GAYNA,MAAM,iB,8NAhDjBC,EAAAA,EAAAA,IAsDM,MAtDNgB,EAsDM,EArDJd,EAAAA,EAAAA,IAoDUmC,EAAA,CApDAC,MAAO3B,EAAA4B,MAAI,C,kBAMnB,IAUe,EAVfrC,EAAAA,EAAAA,IAUesC,EAAA,CAVDC,MAAM,QAAM,C,kBACxB,IAQW,EARXvC,EAAAA,EAAAA,IAQWwC,EAAA,C,WARQ/B,EAAAgC,O,qCAAAhC,EAAAgC,OAAM9B,GAAE+B,SAAA,I,CACdC,QAAM9B,EAAAA,EAAAA,KACf,IAIa,EAJbb,EAAAA,EAAAA,IAIa4C,EAAA,CAJDrC,MAAM,OAAOsC,IAAI,U,CAChB5B,SAAOJ,EAAAA,EAAAA,KAChB,IAAuD,EAAvDb,EAAAA,EAAAA,IAAuD8C,EAAA,CAAxCC,aAAY3C,EAAA4C,cAAeC,MAAM,M,0EAM1DjD,EAAAA,EAAAA,IAUesC,EAAA,CAVDC,MAAM,MAAI,C,kBACtB,IAQW,EARXvC,EAAAA,EAAAA,IAQWwC,EAAA,C,WARQ/B,EAAAyC,Q,qCAAAzC,EAAAyC,QAAOvC,GAAE+B,SAAA,I,CACfC,QAAM9B,EAAAA,EAAAA,KACf,IAIa,EAJbb,EAAAA,EAAAA,IAIa4C,EAAA,CAJDrC,MAAM,OAAOsC,IAAI,U,CAChB5B,SAAOJ,EAAAA,EAAAA,KAChB,IAAwD,EAAxDb,EAAAA,EAAAA,IAAwD8C,EAAA,CAAzCC,aAAY3C,EAAA4C,cAAeC,MAAM,O,0EAM1DjD,EAAAA,EAAAA,IAKesC,EAAA,CALDC,MAAM,MAAI,C,kBACtB,IAGY,EAHZvC,EAAAA,EAAAA,IAGYwC,EAAA,C,WAFD/B,EAAA4B,KAAK9B,M,qCAALE,EAAA4B,KAAK9B,MAAKI,GACnBwC,YAAY,a,iCAGhBnD,EAAAA,EAAAA,IAWesC,EAAA,CAXDC,MAAM,MAAI,C,kBACtB,IASM,EATNxC,EAAAA,EAAAA,GASM,MATNqD,EASM,EAPJpD,EAAAA,EAAAA,IAMEqD,EAAA,CALQC,QAAS7C,EAAA4B,KAAKiB,Q,kCAAL7C,EAAA4B,KAAKiB,QAAO3C,GAC7B4C,MAAM,OACNC,QAAQ,YACRL,YAAY,yBACZM,YAAY,Q,gCAIlBzD,EAAAA,EAAAA,IAKesC,EAAA,M,kBAJb,IAGM,EAHNvC,EAAAA,EAAAA,GAGM,MAHN2D,EAGM,EAFJ1D,EAAAA,EAAAA,IAA6DC,EAAA,CAAlDC,KAAK,UAAWC,QAAOC,EAAAuD,a,mBAAa,IAAE,UAAF,S,qBAC/C3D,EAAAA,EAAAA,IAA8DC,EAAA,CAAnDC,KAAK,UAAWC,QAAOC,EAAAwD,c,mBAAc,IAAE,UAAF,S,gGAW1D,GACEnC,KAAM,gBACNoC,WAAY,CACVC,WAAU,aACVC,aAAYA,EAAAA,YAEdrC,IAAAA,GACE,MAAO,CACLW,KAAM,CACJ2B,GAAI,GACJC,KAAM,GACNC,UAAW,GACX3D,MAAO,GACP+C,QAAS,GACTa,OAAQ,IAEV1B,OAAQ,GACRS,QAAS,GAEb,EACArB,QAAS,CACPmB,aAAAA,CAAcjB,EAAMkB,GAClB,GAAIlB,EAAKqC,OAAS,EAAG,CACnB,IAAIC,EAAStC,EACVuC,KAAKC,IACJ,IAAIC,EAASC,EAAAA,EAAOC,kBAAkBH,GACtC,MAAQ,GAAEC,EAAO/C,QAAQ+C,EAAOG,aAAa,IAE9CC,KAAK,MACM,OAAV3B,GACFnB,KAAKW,OAAS4B,EACdvC,KAAKO,KAAK2B,GAAKjC,IAEfD,KAAKoB,QAAUmB,EACfvC,KAAKO,KAAK6B,UAAYnC,EAE1B,KAAO,CACL,IAAI8C,EAAUC,MAAMC,QAAQhD,GAAQA,EAAK,GAAKA,EAChC,OAAVkB,GACFnB,KAAKO,KAAK2B,GAAKa,EACf/C,KAAKW,OAAU,GAAEgC,EAAAA,EAAOC,kBAAkBG,GAASpD,QACjDgD,EAAAA,EAAOC,kBAAkBG,GAASF,gBAGpC7C,KAAKO,KAAK6B,UAAYW,EACtB/C,KAAKoB,QAAW,GAAEuB,EAAAA,EAAOC,kBAAkBG,GAASpD,QAClDgD,EAAAA,EAAOC,kBAAkBG,GAASF,cAGxC,CACA7C,KAAKkD,MAAMC,OAAOjE,aACpB,EACA2C,WAAAA,GACE7B,KAAKE,MAAM,cAAeF,KAAKO,KACjC,EACAuB,YAAAA,GACEsB,EAAAA,EAAaC,QAAQ,eAAgB,KAAM,CACzCC,kBAAmB,IACnBC,iBAAkB,MAClBnF,KAAM,YAELoF,MAAK,KACJxD,KAAKE,MAAM,eAAe,IAE3BuD,OAAM,QACX,I,QCxHJ,MAAMtD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://vue-projectver2/./src/components/common/dialogSlot.vue","webpack://vue-projectver2/./src/components/common/dialogSlot.vue?74b8","webpack://vue-projectver2/./src/components/private/createMessage.vue","webpack://vue-projectver2/./src/components/private/createMessage.vue?37fa"],"sourcesContent":["<template>\r\n  <div>\r\n    <div>\r\n      <el-button type=\"primary\" @click=\"openDialog\">{{ title }}</el-button>\r\n    </div>\r\n    <el-dialog v-model=\"dialogVisible\" append-to-body :show-close=\"false\">\r\n      <template #header>\r\n        <div class=\"el-header\">\r\n          <h2>{{ title }}</h2>\r\n          <el-button @click=\"closeDialog\">닫기</el-button>\r\n        </div>\r\n      </template>\r\n      <template #default>\r\n        <slot @saveForm=\"saveForm\"></slot>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"dialogSlot\",\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n    };\r\n  },\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  methods: {\r\n    openDialog() {\r\n      this.dialogVisible = true;\r\n    },\r\n    closeDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n    saveForm(item) {\r\n      this.$emit(\"saveForm\", item);\r\n      this.closeDialog();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"\"></style>\r\n","import { render } from \"./dialogSlot.vue?vue&type=template&id=5383be66\"\nimport script from \"./dialogSlot.vue?vue&type=script&lang=js\"\nexport * from \"./dialogSlot.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template lang=\"\">\r\n  <div class=\"formContanier\">\r\n    <el-form :model=\"form\">\r\n      <!-- 받는사람(memberTree 이용해서 dialog띄우기) -->\r\n      <!-- reference는 받는사람, 보낸사람(currentMember)를 제외한 인원에서 memberTransfer 받기(memberTransfer 일부 수정필요) -->\r\n      <!-- title은 일반 input -->\r\n      <!-- content는 QuillEditor사용해서 내용 받기. 현재는 html로 받지만 delta 값 봐서 delta로 받는게 더 나을수도 있음 -->\r\n      <!-- update는 현재시간으로 자동으로 받기 -->\r\n      <el-form-item label=\"받는사람\">\r\n        <el-input v-model=\"showTo\" readonly>\r\n          <template #append>\r\n            <dialogSlot title=\"배정하기\" ref=\"dialog\">\r\n              <template #default>\r\n                <assignMember @saveMember=\"addressMember\" where=\"to\" />\r\n              </template>\r\n            </dialogSlot>\r\n          </template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"참조\">\r\n        <el-input v-model=\"showRef\" readonly>\r\n          <template #append>\r\n            <dialogSlot title=\"배정하기\" ref=\"dialog\">\r\n              <template #default>\r\n                <assignMember @saveMember=\"addressMember\" where=\"ref\" />\r\n              </template>\r\n            </dialogSlot>\r\n          </template>\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"제목\">\r\n        <el-input\r\n          v-model=\"form.title\"\r\n          placeholder=\"제목을 입력하세요\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"내용\">\r\n        <div class=\"editor\">\r\n          <!-- 크기 조절 방법이 없을 경우 dialog처리하거나 tiptab을 이용해야 할수도 있음 -->\r\n          <QuillEditor\r\n            v-model:content=\"form.content\"\r\n            theme=\"snow\"\r\n            toolbar=\"essential\"\r\n            placeholder=\"줄이 늘어날수록 창이 자동으로 늘어납니다\"\r\n            contentType=\"html\"\r\n          />\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <div class=\"CenterButtons\">\r\n          <el-button type=\"primary\" @click=\"sendMessage\">작성</el-button>\r\n          <el-button type=\"primary\" @click=\"returnToMain\">취소</el-button>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Member } from \"@/components/composables/Member\";\r\nimport dialogSlot from \"@/components/common/dialogSlot.vue\";\r\nimport assignMember from \"@/components/common/assignMember.vue\";\r\nimport { ElMessageBox } from \"element-plus\";\r\nexport default {\r\n  name: \"createMessage\",\r\n  components: {\r\n    dialogSlot,\r\n    assignMember,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        to: \"\",\r\n        from: \"\",\r\n        reference: \"\",\r\n        title: \"\",\r\n        content: \"\",\r\n        update: \"\",\r\n      },\r\n      showTo: \"\",\r\n      showRef: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    addressMember(item, where) {\r\n      if (item.length > 1) {\r\n        let target = item\r\n          .map((i) => {\r\n            let member = Member.findMemberByIndex(i);\r\n            return `${member.name}(${member.department})`;\r\n          })\r\n          .join(\", \");\r\n        if (where === \"to\") {\r\n          this.showTo = target;\r\n          this.form.to = item;\r\n        } else {\r\n          this.showRef = target;\r\n          this.form.reference = item;\r\n        }\r\n      } else {\r\n        let newItem = Array.isArray(item) ? item[0] : item;\r\n        if (where === \"to\") {\r\n          this.form.to = newItem;\r\n          this.showTo = `${Member.findMemberByIndex(newItem).name}(${\r\n            Member.findMemberByIndex(newItem).department\r\n          })`;\r\n        } else {\r\n          this.form.reference = newItem;\r\n          this.showRef = `${Member.findMemberByIndex(newItem).name}(${\r\n            Member.findMemberByIndex(newItem).department\r\n          })`;\r\n        }\r\n      }\r\n      this.$refs.dialog.closeDialog();\r\n    },\r\n    sendMessage() {\r\n      this.$emit(\"saveMessage\", this.form);\r\n    },\r\n    returnToMain() {\r\n      ElMessageBox.confirm(\"정말 취소하시겠습니까?\", \"경고\", {\r\n        confirmButtonText: \"예\",\r\n        cancelButtonText: \"아니오\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.$emit(\"returnToMain\");\r\n        })\r\n        .catch(() => {});\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.editor {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n</style>\r\n","import { render } from \"./createMessage.vue?vue&type=template&id=e9c0c296&scoped=true&lang=true\"\nimport script from \"./createMessage.vue?vue&type=script&lang=js\"\nexport * from \"./createMessage.vue?vue&type=script&lang=js\"\n\nimport \"./createMessage.vue?vue&type=style&index=0&id=e9c0c296&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e9c0c296\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_el_button","type","onClick","$options","openDialog","$props","title","_component_el_dialog","$data","dialogVisible","$event","header","_withCtx","_hoisted_1","_toDisplayString","closeDialog","default","_renderSlot","_ctx","$slots","onSaveForm","_cache","args","saveForm","name","data","props","String","methods","this","item","$emit","__exports__","render","_component_el_form","model","form","_component_el_form_item","label","_component_el_input","showTo","readonly","append","_component_dialogSlot","ref","_component_assignMember","onSaveMember","addressMember","where","showRef","placeholder","_hoisted_2","_component_QuillEditor","content","theme","toolbar","contentType","_hoisted_3","sendMessage","returnToMain","components","dialogSlot","assignMember","to","from","reference","update","length","target","map","i","member","Member","findMemberByIndex","department","join","newItem","Array","isArray","$refs","dialog","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","catch"],"sourceRoot":""}