"use strict";(self["webpackChunkvue_projectver2"]=self["webpackChunkvue_projectver2"]||[]).push([[47,136],{4702:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var l=a(3396),o=a(7139);const r={class:"el-header"};function n(e,t,a,n,i,d){const s=(0,l.up)("el-button"),u=(0,l.up)("el-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",null,[(0,l.Wm)(s,{type:"primary",onClick:d.openDialog},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(a.title),1)])),_:1},8,["onClick"])]),(0,l.Wm)(u,{modelValue:i.dialogVisible,"onUpdate:modelValue":t[1]||(t[1]=e=>i.dialogVisible=e),"append-to-body":"","show-close":!1},{header:(0,l.w5)((()=>[(0,l._)("div",r,[(0,l._)("h2",null,(0,o.zw)(a.title),1),(0,l.Wm)(s,{onClick:d.closeDialog},{default:(0,l.w5)((()=>[(0,l.Uk)("닫기")])),_:1},8,["onClick"])])])),default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"default",{onSaveForm:t[0]||(t[0]=(...e)=>d.saveForm&&d.saveForm(...e))})])),_:3},8,["modelValue"])])}var i={name:"dialogSlot",data(){return{dialogVisible:!1}},props:{title:{type:String,default:""}},methods:{openDialog(){this.dialogVisible=!0},closeDialog(){this.dialogVisible=!1},saveForm(e){this.$emit("saveForm",e),this.closeDialog()}}},d=a(89);const s=(0,d.Z)(i,[["render",n]]);var u=s},5047:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var l=a(3396);function o(e,t,a,o,r,n){const i=(0,l.up)("el-table-column"),d=(0,l.up)("showProject"),s=(0,l.up)("dialogSlot"),u=(0,l.up)("el-button"),c=(0,l.up)("el-table");return(0,l.wg)(),(0,l.j4)(c,{data:r.tableData},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{type:"index"}),(0,l.Wm)(i,{prop:"title",label:"제목"},{default:(0,l.w5)((e=>[(0,l.Wm)(s,{title:e.row.title},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{projectIndex:e.row.referenceIndex,isSaved:!0},null,8,["projectIndex"])])),_:2},1032,["title"])])),_:1}),(0,l.Wm)(i,{prop:"member",label:"참가자","show-overflow-tooltip":""}),(0,l.Wm)(i,{prop:"start_date",label:"시작일"}),(0,l.Wm)(i,{prop:"end_date",label:"종료일"}),(0,l.Wm)(i,{prop:"status",label:"상태"}),a.rejected?((0,l.wg)(),(0,l.j4)(i,{key:0,label:"작업"},{default:(0,l.w5)((e=>[(0,l.Wm)(u,{type:"primary",onClick:t=>n.edit(e.row.referenceIndex)},{default:(0,l.w5)((()=>[(0,l.Uk)("수정")])),_:2},1032,["onClick"]),(0,l.Wm)(u,{type:"danger",onClick:t=>n.deleteProject(e.row.referenceIndex)},{default:(0,l.w5)((()=>[(0,l.Uk)("삭제")])),_:2},1032,["onClick"])])),_:1})):(0,l.kq)("",!0)])),_:1},8,["data"])}a(560);var r=a(167),n=a(7400),i=a(4702),d=a(5837),s=a(6e3),u=a(7178),c={name:"PlanTable",emits:["edit"],data(){return{tableData:[]}},components:{dialogSlot:i["default"],showProject:d["default"]},props:{parentStatus:{type:String,default:"대기"},rejected:{type:Boolean,default:!1}},computed:{projectData(){return n.I.callProjectList(this.parentStatus)}},methods:{memberData(e){const t=[];return e.forEach((e=>{let a=r.N.findMemberByIndex(e);t.push(a.name)})),t.join(", ")},tableInit(){this.projectData.forEach((e=>{this.tableData.push({title:e.title,member:this.memberData(e.member),start_date:e.start_date,end_date:e.end_date,status:e.status,referenceIndex:e.index})}))},edit(e){this.$emit("edit",e)},deleteProject(e){s.T.confirm("정말 삭제하시겠습니까?","경고",{confirmButtonText:"삭제",cancelButtonText:"취소",type:"warning"}).then((()=>{n.I.deleteProject(e),this.$forceUpdate(),u.z8.info("삭제되었습니다")})).catch((()=>{}))}},mounted(){this.tableInit()},watch:{projectData:{deep:!0,handler(){this.tableData=[],this.tableInit()}}}},p=a(89);const m=(0,p.Z)(c,[["render",o]]);var f=m}}]);
//# sourceMappingURL=47.43c66457.js.map